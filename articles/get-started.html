<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Simple working examples • modelimportance</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Simple working examples">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">modelimportance</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/get-started.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="get-started_files/kePrint-0.0.1/kePrint.js"></script><link href="get-started_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Simple working examples</h1>
            
      

      <div class="d-none name"><code>get-started.Rmd</code></div>
    </div>

    
    
<p>This vignette demonstrates the usage of the
<code>modelimportance</code> package for evaluating how each component
model contributes to ensemble accuracy. We provide simple working
examples to help you get started with the package. Detailed descriptions
of the model importance metrics, algorithms, key functions, and in-depth
interpretations of the examples covered here are available in the <a href="https://mkim425.github.io/modelimportance/articles/modelimportance-article.html">accompanying
article</a> titled ‘<code>modelimportance</code>: Evaluating model
importance within a multi-model ensemble in R’ under
<em>Articles</em>.</p>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>We first load the necessary packages.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hubverse-org/hubExamples" class="external-link">hubExamples</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mkim425.github.io/modelimportance/">modelimportance</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<p>We use some example forecast and target data from the
<code>hubExamples</code> package, which provides sample datasets for
multiple modeling hubs in the hubverse format.</p>
</div>
<div class="section level2">
<h2 id="example-data">Example data<a class="anchor" aria-label="anchor" href="#example-data"></a>
</h2>
<p>The forecast data used here contains forecasts of weekly incident
influenza hospitalizations in the US for Massachusetts (FIPS code 25)
and Texas (FIPS code 48), generated on November 19, 2022. These
forecasts are for two target end dates, November 26, 2022 (horizon 1),
and December 10, 2022 (horizon 3), and were produced by three models:
‘Flusight-baseline’, ‘MOBS-GLEAM_FLUH’, and ‘PSI-DICE’. The output type
is <code>median</code> and the <code>output_type_id</code> column has
<code>NA</code>s as no further specification is required for this output
type. We have modified the example data slightly: some forecasts have
been removed to demonstrate the handling of missing values. Therefore,
MOBS-GLEAM_FLUH’s forecast for Massachusetts on November 26, 2022, and
PSI-DICE’s forecast for Texas on December 10, 2022, are missing.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">forecast_data</span> <span class="op">&lt;-</span> <span class="fu">hubExamples</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/hubExamples/man/forecast_data.html" class="external-link">forecast_outputs</a></span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">output_type</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"median"</span><span class="op">)</span>,</span>
<span>    <span class="va">target_end_date</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2022-11-26"</span>, <span class="st">"2022-12-10"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="op">!</span><span class="op">(</span></span>
<span>      <span class="va">model_id</span> <span class="op">==</span> <span class="st">"MOBS-GLEAM_FLUH"</span> <span class="op">&amp;</span></span>
<span>        <span class="va">location</span> <span class="op">==</span> <span class="st">"25"</span> <span class="op">&amp;</span></span>
<span>        <span class="va">target_end_date</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2022-11-26"</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="op">!</span><span class="op">(</span></span>
<span>      <span class="va">model_id</span> <span class="op">==</span> <span class="st">"PSI-DICE"</span> <span class="op">&amp;</span></span>
<span>        <span class="va">location</span> <span class="op">==</span> <span class="st">"48"</span> <span class="op">&amp;</span></span>
<span>        <span class="va">target_end_date</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2022-12-10"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">forecast_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>    format <span class="op">=</span> <span class="st">"html"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span></span>
<span>    font_size <span class="op">=</span> <span class="fl">12</span>,</span>
<span>    bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span><span class="op">)</span>,</span>
<span>    full_width <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive" style="font-size: 12px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
model_id
</th>
<th style="text-align:left;">
reference_date
</th>
<th style="text-align:left;">
target
</th>
<th style="text-align:right;">
horizon
</th>
<th style="text-align:left;">
location
</th>
<th style="text-align:left;">
target_end_date
</th>
<th style="text-align:left;">
output_type
</th>
<th style="text-align:left;">
output_type_id
</th>
<th style="text-align:right;">
value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Flusight-baseline
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
25
</td>
<td style="text-align:left;">
2022-11-26
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
51
</td>
</tr>
<tr>
<td style="text-align:left;">
Flusight-baseline
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
25
</td>
<td style="text-align:left;">
2022-12-10
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
51
</td>
</tr>
<tr>
<td style="text-align:left;">
Flusight-baseline
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
48
</td>
<td style="text-align:left;">
2022-11-26
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
1052
</td>
</tr>
<tr>
<td style="text-align:left;">
Flusight-baseline
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
48
</td>
<td style="text-align:left;">
2022-12-10
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
1052
</td>
</tr>
<tr>
<td style="text-align:left;">
MOBS-GLEAM_FLUH
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
25
</td>
<td style="text-align:left;">
2022-12-10
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
43
</td>
</tr>
<tr>
<td style="text-align:left;">
MOBS-GLEAM_FLUH
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
48
</td>
<td style="text-align:left;">
2022-11-26
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
1072
</td>
</tr>
<tr>
<td style="text-align:left;">
MOBS-GLEAM_FLUH
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
48
</td>
<td style="text-align:left;">
2022-12-10
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
688
</td>
</tr>
<tr>
<td style="text-align:left;">
PSI-DICE
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
25
</td>
<td style="text-align:left;">
2022-11-26
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
90
</td>
</tr>
<tr>
<td style="text-align:left;">
PSI-DICE
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
25
</td>
<td style="text-align:left;">
2022-12-10
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
159
</td>
</tr>
<tr>
<td style="text-align:left;">
PSI-DICE
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
48
</td>
<td style="text-align:left;">
2022-11-26
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
1226
</td>
</tr>
</tbody>
</table>
<p>The corresponding target data contains the observed hospitalization
counts for these dates and locations.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">target_data</span> <span class="op">&lt;-</span> <span class="fu">hubExamples</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/hubExamples/man/forecast_data.html" class="external-link">forecast_target_ts</a></span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">target_end_date</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">forecast_data</span><span class="op">$</span><span class="va">target_end_date</span><span class="op">)</span>,</span>
<span>    <span class="va">location</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">forecast_data</span><span class="op">$</span><span class="va">location</span><span class="op">)</span>,</span>
<span>    <span class="va">target</span> <span class="op">==</span> <span class="st">"wk inc flu hosp"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># Rename columns to match the oracle output format</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>oracle_value <span class="op">=</span> <span class="va">observation</span><span class="op">)</span></span>
<span></span>
<span><span class="va">target_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>    format <span class="op">=</span> <span class="st">"html"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span></span>
<span>    bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span><span class="op">)</span>,</span>
<span>    full_width <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
target_end_date
</th>
<th style="text-align:left;">
target
</th>
<th style="text-align:left;">
location
</th>
<th style="text-align:right;">
oracle_value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
2022-11-26
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:left;">
25
</td>
<td style="text-align:right;">
221
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-11-26
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:left;">
48
</td>
<td style="text-align:right;">
1929
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-12-10
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:left;">
25
</td>
<td style="text-align:right;">
578
</td>
</tr>
<tr>
<td style="text-align:left;">
2022-12-10
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:left;">
48
</td>
<td style="text-align:right;">
1781
</td>
</tr>
</tbody>
</table>
<p>We visualize the forecasts and the observed values.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">forecast_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">target_end_date</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">value</span>, color <span class="op">=</span> <span class="va">model_id</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">location</span>,</span>
<span>    scales <span class="op">=</span> <span class="st">"free_y"</span>,</span>
<span>    labeller <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labeller.html" class="external-link">labeller</a></span><span class="op">(</span>location <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Location: "</span>, <span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">target_data</span>,</span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">oracle_value</span>, group <span class="op">=</span> <span class="fl">1</span>, shape <span class="op">=</span> <span class="st">"Observed"</span><span class="op">)</span>,</span>
<span>    alpha <span class="op">=</span> <span class="fl">1</span>, size <span class="op">=</span> <span class="fl">2</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span></span>
<span>    breaks <span class="op">=</span> <span class="va">target_data</span><span class="op">$</span><span class="va">target_end_date</span>,</span>
<span>    date_labels <span class="op">=</span> <span class="st">"%Y-%m-%d"</span>, expand <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/expansion.html" class="external-link">expansion</a></span><span class="op">(</span>add <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_color_manual</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"model_id/Observed"</span>,</span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"Flusight-baseline"</span> <span class="op">=</span> <span class="st">"#619CFF"</span>,</span>
<span>      <span class="st">"MOBS-GLEAM_FLUH"</span> <span class="op">=</span> <span class="st">"#00BA38"</span>, <span class="st">"PSI-DICE"</span> <span class="op">=</span> <span class="st">"#F8766D"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Flusight-baseline"</span>, <span class="st">"MOBS-GLEAM_FLUH"</span>, <span class="st">"PSI-DICE"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Observed"</span> <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="st">"Date"</span>, y <span class="op">=</span> <span class="st">"Weekly Hospitalization"</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"Forecasts of incident deaths generated on November 19, 2022"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="get-started_files/figure-html/fig-example-median-lomo-1.png" class="r-plt" alt="" width="672"></p>
<p>As expected, prediction errors increase at longer horizons due to
greater uncertainty, with forecasts for December 10, 2022, showing
larger deviations from the observed values compared to those for
November 26, 2022. Additionally, the forecasts for Massachusetts are
relatively more accurate compared to those for Texas, which tend to have
higher errors.</p>
</div>
<div class="section level2">
<h2 id="evaluation-using-lomo-algorithm">Evaluation using LOMO algorithm<a class="anchor" aria-label="anchor" href="#evaluation-using-lomo-algorithm"></a>
</h2>
<p>We quantify the contribution of each model within the ensemble using
the <code><a href="../reference/model_importance.html">model_importance()</a></code> function. The following code
evaluates the importance of each ensemble member in the simple mean
ensemble using the LOMO algorithm.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">scores_lomo</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/model_importance.html">model_importance</a></span><span class="op">(</span></span>
<span>  forecast_data <span class="op">=</span> <span class="va">forecast_data</span>, oracle_output_data <span class="op">=</span> <span class="va">target_data</span>,</span>
<span>  ensemble_fun <span class="op">=</span> <span class="st">"simple_ensemble"</span>,</span>
<span>  importance_algorithm <span class="op">=</span> <span class="st">"lomo"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">scores_lomo</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>    format <span class="op">=</span> <span class="st">"html"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span></span>
<span>    font_size <span class="op">=</span> <span class="fl">12</span>,</span>
<span>    bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span><span class="op">)</span>,</span>
<span>    full_width <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive" style="font-size: 12px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
model_id
</th>
<th style="text-align:left;">
reference_date
</th>
<th style="text-align:left;">
target
</th>
<th style="text-align:right;">
horizon
</th>
<th style="text-align:left;">
location
</th>
<th style="text-align:left;">
target_end_date
</th>
<th style="text-align:left;">
output_type
</th>
<th style="text-align:right;">
importance
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Flusight-baseline
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
25
</td>
<td style="text-align:left;">
2022-11-26
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:right;">
-19.50000
</td>
</tr>
<tr>
<td style="text-align:left;">
MOBS-GLEAM_FLUH
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
25
</td>
<td style="text-align:left;">
2022-11-26
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
PSI-DICE
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
25
</td>
<td style="text-align:left;">
2022-11-26
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:right;">
19.50000
</td>
</tr>
<tr>
<td style="text-align:left;">
Flusight-baseline
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
48
</td>
<td style="text-align:left;">
2022-11-26
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:right;">
-32.33333
</td>
</tr>
<tr>
<td style="text-align:left;">
MOBS-GLEAM_FLUH
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
48
</td>
<td style="text-align:left;">
2022-11-26
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:right;">
-22.33333
</td>
</tr>
<tr>
<td style="text-align:left;">
PSI-DICE
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
48
</td>
<td style="text-align:left;">
2022-11-26
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:right;">
54.66667
</td>
</tr>
<tr>
<td style="text-align:left;">
Flusight-baseline
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
25
</td>
<td style="text-align:left;">
2022-12-10
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:right;">
-16.66667
</td>
</tr>
<tr>
<td style="text-align:left;">
MOBS-GLEAM_FLUH
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
25
</td>
<td style="text-align:left;">
2022-12-10
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:right;">
-20.66667
</td>
</tr>
<tr>
<td style="text-align:left;">
PSI-DICE
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
25
</td>
<td style="text-align:left;">
2022-12-10
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:right;">
37.33333
</td>
</tr>
<tr>
<td style="text-align:left;">
Flusight-baseline
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
48
</td>
<td style="text-align:left;">
2022-12-10
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:right;">
182.00000
</td>
</tr>
<tr>
<td style="text-align:left;">
MOBS-GLEAM_FLUH
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
48
</td>
<td style="text-align:left;">
2022-12-10
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:right;">
-182.00000
</td>
</tr>
<tr>
<td style="text-align:left;">
PSI-DICE
</td>
<td style="text-align:left;">
2022-11-19
</td>
<td style="text-align:left;">
wk inc flu hosp
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
48
</td>
<td style="text-align:left;">
2022-12-10
</td>
<td style="text-align:left;">
median
</td>
<td style="text-align:right;">
NA
</td>
</tr>
</tbody>
</table>
<p>For models that missed forecasts for certain tasks, <code>NA</code>
values are assigned in the importance column for those tasks.</p>
<p>We summarize the importance scores for each model by averaging across
all tasks. <code>NA</code> values are removed during the averaging
process by setting the <code>na_action</code> argument to
<code>"drop"</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary.lomo.drop</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/model_importance_summary.html">model_importance_summary</a></span><span class="op">(</span></span>
<span>  <span class="va">scores_lomo</span>,</span>
<span>  by <span class="op">=</span> <span class="st">"model_id"</span>, na_action <span class="op">=</span> <span class="st">"drop"</span>, fun <span class="op">=</span> <span class="va">mean</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">summary.lomo.drop</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>    format <span class="op">=</span> <span class="st">"html"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span></span>
<span>    bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span><span class="op">)</span>,</span>
<span>    full_width <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
model_id
</th>
<th style="text-align:right;">
importance_score_mean
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
PSI-DICE
</td>
<td style="text-align:right;">
37.16667
</td>
</tr>
<tr>
<td style="text-align:left;">
Flusight-baseline
</td>
<td style="text-align:right;">
28.37500
</td>
</tr>
<tr>
<td style="text-align:left;">
MOBS-GLEAM_FLUH
</td>
<td style="text-align:right;">
-75.00000
</td>
</tr>
</tbody>
</table>
<p>The results show that the model ‘PSI-DICE’ has the highest importance
score, followed by ‘Flusight-baseline’ and ‘MOBS-GLEAM_FLUH’. That is,
‘PSI-DICE’ contributes the most to improving the ensemble’s predictive
performance, whereas ‘MOBS-GLEAM_FLUH’, which has a negative score,
detracts from the ensemble’s performance.</p>
<p>Another approach to handling <code>NA</code> values is to use the
<code>"worst"</code> option for <code>na_action</code>, which replaces
<code>NA</code> values with the worst (i.e., minimum) score among the
other models for the same task.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary.lomo.worst</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/model_importance_summary.html">model_importance_summary</a></span><span class="op">(</span></span>
<span>  <span class="va">scores_lomo</span>,</span>
<span>  by <span class="op">=</span> <span class="st">"model_id"</span>, na_action <span class="op">=</span> <span class="st">"worst"</span>, fun <span class="op">=</span> <span class="va">mean</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">summary.lomo.worst</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>    format <span class="op">=</span> <span class="st">"html"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span></span>
<span>    bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span><span class="op">)</span>,</span>
<span>    full_width <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
model_id
</th>
<th style="text-align:right;">
importance_score_mean
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Flusight-baseline
</td>
<td style="text-align:right;">
28.375
</td>
</tr>
<tr>
<td style="text-align:left;">
PSI-DICE
</td>
<td style="text-align:right;">
-17.625
</td>
</tr>
<tr>
<td style="text-align:left;">
MOBS-GLEAM_FLUH
</td>
<td style="text-align:right;">
-61.125
</td>
</tr>
</tbody>
</table>
<p>The results show that the importance scores of ‘Flusight-baseline’ is
unchanged because it has no missing forecast. We observe that the
importance score of ‘PSI-DICE’, which was previously positive, has now
decreased to a negative value when compared to the evaluation using the
<code>"drop"</code> option for <code>na_action</code>. Moreover,
‘MOBS-GLEAM_FLUH’ still ranks the lowest, but the importance score has
increased.</p>
<p>It is also possible to impute the missing scores with intermediate
values by assigning the average importance scores of other models in the
same task. This strategy may offer a more balanced trade-off by
mitigating the influence of the missing data without overly penalizing
or overlooking them.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary.lomo.avg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/model_importance_summary.html">model_importance_summary</a></span><span class="op">(</span></span>
<span>  <span class="va">scores_lomo</span>,</span>
<span>  by <span class="op">=</span> <span class="st">"model_id"</span>, na_action <span class="op">=</span> <span class="st">"average"</span>, fun <span class="op">=</span> <span class="va">mean</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">summary.lomo.avg</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>    format <span class="op">=</span> <span class="st">"html"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span></span>
<span>    bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span><span class="op">)</span>,</span>
<span>    full_width <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
model_id
</th>
<th style="text-align:right;">
importance_score_mean
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Flusight-baseline
</td>
<td style="text-align:right;">
28.375
</td>
</tr>
<tr>
<td style="text-align:left;">
PSI-DICE
</td>
<td style="text-align:right;">
27.875
</td>
</tr>
<tr>
<td style="text-align:left;">
MOBS-GLEAM_FLUH
</td>
<td style="text-align:right;">
-56.250
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="evaluation-using-lasomo-algorithm">Evaluation using LASOMO algorithm<a class="anchor" aria-label="anchor" href="#evaluation-using-lasomo-algorithm"></a>
</h2>
<p>Now we demonstrate the use of the LASOMO algorithm in the evaluation
of model importance. As we explored the difference of
<code>na_action</code> options in the previous LOMO example, we focus on
options for <code>subset_wt</code>, which specifies how weights are
assigned to subsets of models when calculating importance scores, with
<code>na_action</code> fixed to <code>"drop"</code>.</p>
<p>The following code and corresponding outputs illustrate the
evaluation using each weighting scheme.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># LASOMO - equal weights</span></span>
<span><span class="va">scores_lasomo_eq</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/model_importance.html">model_importance</a></span><span class="op">(</span></span>
<span>  forecast_data <span class="op">=</span> <span class="va">forecast_data</span>, oracle_output_data <span class="op">=</span> <span class="va">target_data</span>,</span>
<span>  ensemble_fun <span class="op">=</span> <span class="st">"simple_ensemble"</span>,</span>
<span>  importance_algorithm <span class="op">=</span> <span class="st">"lasomo"</span>, subset_wt <span class="op">=</span> <span class="st">"equal"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">summary.lasomo_eq</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/model_importance_summary.html">model_importance_summary</a></span><span class="op">(</span></span>
<span>  <span class="va">scores_lasomo_eq</span>,</span>
<span>  by <span class="op">=</span> <span class="st">"model_id"</span>, na_action <span class="op">=</span> <span class="st">"drop"</span>, fun <span class="op">=</span> <span class="va">mean</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">summary.lasomo_eq</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>    format <span class="op">=</span> <span class="st">"html"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span></span>
<span>    bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span><span class="op">)</span>,</span>
<span>    full_width <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
model_id
</th>
<th style="text-align:right;">
importance_score_mean
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
PSI-DICE
</td>
<td style="text-align:right;">
47.38889
</td>
</tr>
<tr>
<td style="text-align:left;">
Flusight-baseline
</td>
<td style="text-align:right;">
24.29167
</td>
</tr>
<tr>
<td style="text-align:left;">
MOBS-GLEAM_FLUH
</td>
<td style="text-align:right;">
-79.77778
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># LASOMO - perm based weights</span></span>
<span><span class="va">scores_lasomo_perm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/model_importance.html">model_importance</a></span><span class="op">(</span></span>
<span>  forecast_data <span class="op">=</span> <span class="va">forecast_data</span>,</span>
<span>  oracle_output_data <span class="op">=</span> <span class="va">target_data</span>,</span>
<span>  ensemble_fun <span class="op">=</span> <span class="st">"simple_ensemble"</span>,</span>
<span>  importance_algorithm <span class="op">=</span> <span class="st">"lasomo"</span>, subset_wt <span class="op">=</span> <span class="st">"perm_based"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">summary.lasomo_perm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/model_importance_summary.html">model_importance_summary</a></span><span class="op">(</span></span>
<span>  <span class="va">scores_lasomo_perm</span>,</span>
<span>  by <span class="op">=</span> <span class="st">"model_id"</span>, na_action <span class="op">=</span> <span class="st">"drop"</span>, fun <span class="op">=</span> <span class="va">mean</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">summary.lasomo_perm</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>    format <span class="op">=</span> <span class="st">"html"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span></span>
<span>    bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span><span class="op">)</span>,</span>
<span>    full_width <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
model_id
</th>
<th style="text-align:right;">
importance_score_mean
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
PSI-DICE
</td>
<td style="text-align:right;">
44.83333
</td>
</tr>
<tr>
<td style="text-align:left;">
Flusight-baseline
</td>
<td style="text-align:right;">
25.31250
</td>
</tr>
<tr>
<td style="text-align:left;">
MOBS-GLEAM_FLUH
</td>
<td style="text-align:right;">
-78.58333
</td>
</tr>
</tbody>
</table>
<p>In this example, there are only three models
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">n = 3</annotation></semantics></math>),
and the weights do not differ significantly between the two weighting
schemes. Therefore, the resulting outputs show little difference.
However, in general, with a larger number of models, the two weighting
schemes may yield different importance scores for each model.</p>
<p>Note that the computational time here is about 0.3 seconds for both
LOMO and LASOMO algorithms. However, this time can be increased
substantially with a large number of models and tasks. See detailed
discussions on execution time and computational feasibility in the <a href="../articles/modelimportance-article.html#sec:computational-complexity">Computational
complexity</a> section of the accompanying article.</p>
<p>An extensive application in more complex scenarios with a larger
number of models can be found in <span class="citation">Kim, Ray, and
Reich (2024)</span>.</p>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-kim2024" class="csl-entry">
Kim, Minsu, Evan L. Ray, and Nicholas G. Reich. 2024. <span>“<span class="nocase">Beyond forecast leaderboards: Measuring individual model
importance based on contribution to ensemble accuracy</span>.”</span> <a href="https://arxiv.org/abs/2412.08916" class="external-link">https://arxiv.org/abs/2412.08916</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Minsu Kim, Li Shandross, Nicholas Reich, Evan Ray.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
